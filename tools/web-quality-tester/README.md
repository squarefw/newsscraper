# AI Quality Tester - Web Interface

一个美观的Web界面，用于测试和优化AI翻译和重写质量，提供实时反馈和详细分析。

## 🌟 特性

- **直观的Web界面** - 美观的用户界面，响应式设计
- **实时内容提取** - 从新闻URL自动提取标题和内容  
- **多AI引擎支持** - 支持Qwen、Gemini、Ollama等多种AI引擎
- **可编辑提示词** - 实时编辑和优化翻译、重写提示词
- **详细分析报告** - 显示处理时间、字数统计等性能指标
- **结果导出** - 支持导出测试结果为JSON格式
- **实时进度显示** - 处理过程中的实时状态更新

## 🚀 快速开始

### 1. 启动服务器

```bash
# 进入web质量测试器目录
cd tools/web-quality-tester

# 启动服务器（自动安装依赖）
./start-server.sh
```

### 2. 访问界面

打开浏览器访问：http://localhost:3900

### 3. 使用流程

1. **输入URL** - 在"Content Input"部分输入新闻文章URL
2. **提取内容** - 点击"Extract"按钮提取文章内容
3. **选择AI引擎** - 在"AI Configuration"中选择要使用的AI引擎
4. **编辑提示词** - 在"AI Prompts"中自定义翻译和重写提示词
5. **开始处理** - 点击"Start AI Processing"开始AI处理
6. **查看结果** - 在"Results"部分查看翻译和重写结果
7. **导出结果** - 可选择导出测试结果用于进一步分析

## 📁 项目结构

```
tools/web-quality-tester/
├── server.js              # Express服务器
├── package.json            # 依赖配置
├── start-server.sh         # 启动脚本
├── README.md              # 说明文档
├── public/                # 前端资源
│   ├── index.html         # 主页面
│   ├── styles.css         # 样式文件
│   └── script.js          # 前端逻辑
└── api/                   # API端点（预留）
```

## 🔧 API端点

- `GET /` - 主页面
- `GET /api/config` - 获取AI引擎和提示词配置
- `POST /api/extract` - 从URL提取内容
- `POST /api/process` - 使用AI处理内容
- `GET /api/health` - 健康检查

## 🎨 界面特性

### 美观设计
- 现代化渐变背景
- 玻璃态效果卡片
- 流畅的动画过渡
- 响应式布局

### 用户体验
- 实时状态反馈
- 进度条显示
- Toast通知系统
- 键盘快捷键支持（Ctrl+Enter处理）

### 功能完善
- 内容预览
- 处理时间统计
- 字数统计
- 错误处理
- 结果导出

## 🔍 使用示例

### 测试BBC新闻
1. 输入URL：`https://www.bbc.com/news/world-asia-china-12345678`
2. 选择AI引擎：`qwen`
3. 设置目标语言：`Chinese`
4. 自定义提示词或使用默认提示词
5. 开始处理并查看结果

### 自定义提示词示例

**翻译提示词：**
```
请将以下新闻内容翻译成中文，保持新闻报道的客观性和准确性，语言要符合中文新闻报道习惯：
```

**重写提示词：**
```
请将以下翻译后的新闻内容进行重写，使其更加生动有趣，同时保持事实准确性，提高可读性：
```

## ⚙️ 配置说明

web界面自动读取以下配置文件：
- `../../config/config.remote-230.json` - AI引擎配置
- `../../config/ai-prompts.json` - 默认提示词配置

### 支持的AI引擎
- Qwen (阿里云通义千问)
- Gemini (Google)
- Ollama (本地部署)
- 其他在配置文件中启用的引擎

## 🛠️ 技术栈

### 后端
- **Node.js** - 运行环境
- **Express.js** - Web框架
- **Axios** - HTTP客户端
- **Cheerio** - HTML解析

### 前端
- **原生JavaScript** - 前端逻辑
- **CSS3** - 样式和动画
- **HTML5** - 页面结构
- **Font Awesome** - 图标库
- **Google Fonts** - 字体

## 📊 性能监控

界面提供以下性能指标：
- **处理总时间** - 完整流程耗时
- **翻译时间** - 翻译步骤耗时  
- **重写时间** - 重写步骤耗时
- **字数统计** - 原文、翻译、重写的字数
- **处理时间戳** - 完成时间记录

## 🚨 错误处理

- **网络错误** - 自动重试和错误提示
- **内容提取失败** - 详细错误信息
- **AI处理失败** - 错误诊断和建议
- **配置错误** - 配置验证和修复提示

## 📱 响应式支持

- **桌面端** - 完整功能体验
- **平板端** - 优化布局适配
- **移动端** - 简化界面操作

## 🔄 快捷操作

- **Ctrl+Enter** - 快速开始处理
- **Escape** - 紧急停止加载
- **点击Toast** - 关闭通知

## 💡 使用提示

1. **URL要求**：确保输入的是可访问的新闻文章URL
2. **AI引擎选择**：根据需要选择不同的AI引擎进行对比测试
3. **提示词优化**：可以根据具体需求调整提示词以获得更好效果
4. **结果导出**：导出结果可用于批量分析和质量对比
5. **多次测试**：使用"Test Again"功能进行多轮测试对比

## 🔧 故障排除

### 常见问题

**服务器启动失败**
- 检查Node.js是否安装
- 检查端口3900是否被占用
- 检查multiAIManager.js文件是否存在

**内容提取失败**
- 确认URL可访问
- 检查网络连接
- 尝试其他新闻网站

**AI处理失败**
- 检查AI引擎配置
- 确认API密钥有效
- 查看服务器日志

### 日志查看
```bash
# 查看服务器实时日志
tail -f logs/combined.log
```

---

💡 **提示**：这个web界面是对命令行测试工具的增强，提供了更友好的用户体验和更丰富的功能。
